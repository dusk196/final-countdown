<section>

  <h1 mat-dialog-title>{{!!data.name?'Edit an existing countdown':'Add a new countdown'}}:</h1>

  <div mat-dialog-content>

    <mat-tab-group dynamicHeight>

      <mat-tab label="Search from popular holidays">
        <mat-form-field appearance="fill" color="accent">
          <mat-label>Event name</mat-label>
          <input matInput [(ngModel)]="data.name" name="event name for search" required>
        </mat-form-field>
        <mat-list *ngIf="isHolidaysLoaded else showLoader">
          <div mat-subheader>Folders</div>
          <mat-list-item *ngFor="let folder of folders">
            <mat-icon mat-list-icon>event</mat-icon>
            <div mat-line>{{folder.name}}</div>
            <div mat-line> {{folder.updated | date}} </div>
          </mat-list-item>
          <mat-divider></mat-divider>
          <div mat-subheader>Notes</div>
          <mat-list-item *ngFor="let note of notes">
            <mat-icon mat-list-icon>event</mat-icon>
            <div mat-line>{{note.name}}</div>
            <div mat-line> {{note.updated | date}} </div>
          </mat-list-item>
        </mat-list>
      </mat-tab>

      <mat-tab label="Input manually">
        <mat-form-field appearance="fill" color="accent">
          <mat-label>Event name</mat-label>
          <input matInput [(ngModel)]="data.name" name="event name" required>
        </mat-form-field>
        <br />
        <mat-form-field appearance="fill" color="accent" (click)="picker.open()">
          <mat-label>Choose a date</mat-label>
          <input [(ngModel)]="data.date" matInput [matDatepicker]="picker" [min]="minDate" name="event date" readonly>
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>
      </mat-tab>

    </mat-tab-group>

  </div>

  <div mat-dialog-actions>
    <button mat-raised-button color="accent" (click)="onNoClick()">No Thanks</button>
    <button mat-raised-button color="primary" [mat-dialog-close]="data" [disabled]="!data.name">Okay</button>
  </div>

</section>

<ng-template #showLoader>
  <mat-spinner></mat-spinner>
</ng-template>